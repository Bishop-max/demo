<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<script type="text/javascript">
			/**
			 * 什么是闭包函数？

					闭包函数是一种函数的使用方式，最常见的如下：

						function fn1(){
							function fn(){

							}
							return fn;
						}
						
					这种函数的嵌套方式就是闭包函数，这种模式的好处是可以让内层函数访问到外层函数的变量，并且让函数整体不至于因为函数的执行完毕而被销毁。
					再比如下面的代码，随着函数的每次执行，变量的值都会进行递增1，原因是因为外层函数的变量处于内层函数的作用域链当中，被内层函数所使用着，当js垃圾回收机制读取到这一情况后就不会进行垃圾回收
			 */
			window.onload = function(){
				function fn1(){
				    var a = 1;
				    function fn(){
				        a++;
				        console.log(a);
				    }
				    return fn;
				}
				
				// 调用函数
				var x  = fn1();
				x(); // 2	
				x();//3
				
				
				/**
				 * for循环和闭包
				 */
				const data = [];
				for(var i = 0;i<4;i++){
					console.log(i);
					// data[i] = function (){
					// 	console.log(i);
					// }
					//
					// (function(f){
					// 	data[f] = function(){
					// 		console.log(f)
					// 	}
					// })(i)
				}
				// console.dir(data);
				// data[0]();
				// data[1]();
				// data[2]();
				// data[3]()
			}
		</script>
	</head>
	<body>
	</body>
</html>
